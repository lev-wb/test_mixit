document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelectorAll("input[data-tel-input]"),t=function(e){return e.value.replace(/\D/g,"")},n=function(e){let n=e.target,l=t(n),u="",a=n.selectionStart;if(!l)return n.value="";if(n.value.length==a){if(["7","8","9"].indexOf(l[0])>-1){"9"==l[0]&&(l="7"+l),u=("8"==l[0]?"8":"+7")+" ",l.length>1&&(u+="("+l.substring(1,4)),l.length>=5&&(u+=") "+l.substring(4,7)),l.length>=8&&(u+="-"+l.substring(7,9)),l.length>=10&&(u+="-"+l.substring(9,11))}else u="+"+l.substring(0,16);n.value=u}else e.data&&/\D/g.test(e.data)&&(n.value=l)},l=function(e){let n=e.target;8==e.keyCode&&1==t(n).length&&(n.value="")};for(let t=0;t<e.length;t++){let u=e[t];u.addEventListener("input",n),u.addEventListener("keydown",l)}}));